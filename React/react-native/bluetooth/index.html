<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>bluetooth 개발기 | 기억보다 기록을</title>
    <meta name="generator" content="VuePress 1.8.2">
    <script async="true" src="https://www.googletagmanager.com/gtag/js?id=G-GK96B5Q500"></script>
    <script>window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'G-GK96B5Q500');</script>
    <script data-ad-client="ca-pub-6192551181326997" async="true" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <meta name="description" content="bluetooth 개발기">
    <meta property="og:title" content="bluetooth 개발기">
    <meta property="og:description" content="bluetooth 개발기">
    <meta property="og:url" content="https://kyounghwan01.github.io/blog/react-native/bluetooth">
    
    <link rel="preload" href="/blog/assets/css/0.styles.c7398947.css" as="style"><link rel="preload" href="/blog/assets/js/app.931262f3.js" as="script"><link rel="preload" href="/blog/assets/js/4.a9445ddb.js" as="script"><link rel="preload" href="/blog/assets/js/2.f265073a.js" as="script"><link rel="preload" href="/blog/assets/js/114.2f50fd79.js" as="script"><link rel="preload" href="/blog/assets/js/3.8c25584d.js" as="script"><link rel="preload" href="/blog/assets/js/18.7cb4e78a.js" as="script"><link rel="prefetch" href="/blog/assets/js/10.5186a403.js"><link rel="prefetch" href="/blog/assets/js/100.8d469c70.js"><link rel="prefetch" href="/blog/assets/js/101.94833735.js"><link rel="prefetch" href="/blog/assets/js/102.2c2f7505.js"><link rel="prefetch" href="/blog/assets/js/103.82105a15.js"><link rel="prefetch" href="/blog/assets/js/104.40ba7e0c.js"><link rel="prefetch" href="/blog/assets/js/105.fc076757.js"><link rel="prefetch" href="/blog/assets/js/106.aa0e1208.js"><link rel="prefetch" href="/blog/assets/js/107.b27464d0.js"><link rel="prefetch" href="/blog/assets/js/108.efd16fee.js"><link rel="prefetch" href="/blog/assets/js/109.dfc7fc5c.js"><link rel="prefetch" href="/blog/assets/js/11.05c69441.js"><link rel="prefetch" href="/blog/assets/js/110.5a92a3bd.js"><link rel="prefetch" href="/blog/assets/js/111.03af117b.js"><link rel="prefetch" href="/blog/assets/js/112.b3c6e414.js"><link rel="prefetch" href="/blog/assets/js/113.793ad79c.js"><link rel="prefetch" href="/blog/assets/js/115.89c16f76.js"><link rel="prefetch" href="/blog/assets/js/116.5fd3513d.js"><link rel="prefetch" href="/blog/assets/js/117.37b9281a.js"><link rel="prefetch" href="/blog/assets/js/118.1d2c7835.js"><link rel="prefetch" href="/blog/assets/js/119.c1af4e85.js"><link rel="prefetch" href="/blog/assets/js/12.d007eefe.js"><link rel="prefetch" href="/blog/assets/js/120.89aeee85.js"><link rel="prefetch" href="/blog/assets/js/121.05e088f8.js"><link rel="prefetch" href="/blog/assets/js/122.ecfde980.js"><link rel="prefetch" href="/blog/assets/js/123.f65eb429.js"><link rel="prefetch" href="/blog/assets/js/124.88513264.js"><link rel="prefetch" href="/blog/assets/js/125.109fec84.js"><link rel="prefetch" href="/blog/assets/js/126.bb98b2a6.js"><link rel="prefetch" href="/blog/assets/js/127.cb427408.js"><link rel="prefetch" href="/blog/assets/js/128.62286f3a.js"><link rel="prefetch" href="/blog/assets/js/129.73d84a7d.js"><link rel="prefetch" href="/blog/assets/js/13.5413bd59.js"><link rel="prefetch" href="/blog/assets/js/130.22526b51.js"><link rel="prefetch" href="/blog/assets/js/131.b0b424cc.js"><link rel="prefetch" href="/blog/assets/js/132.0f8cd80e.js"><link rel="prefetch" href="/blog/assets/js/133.84c3ba96.js"><link rel="prefetch" href="/blog/assets/js/134.44ad9744.js"><link rel="prefetch" href="/blog/assets/js/135.ae6be18a.js"><link rel="prefetch" href="/blog/assets/js/136.fb32477a.js"><link rel="prefetch" href="/blog/assets/js/137.e8187024.js"><link rel="prefetch" href="/blog/assets/js/138.0ed1ba58.js"><link rel="prefetch" href="/blog/assets/js/139.f23cd416.js"><link rel="prefetch" href="/blog/assets/js/14.6cb013dc.js"><link rel="prefetch" href="/blog/assets/js/140.d66b68f7.js"><link rel="prefetch" href="/blog/assets/js/141.38aea085.js"><link rel="prefetch" href="/blog/assets/js/142.02aea752.js"><link rel="prefetch" href="/blog/assets/js/143.24e73f3e.js"><link rel="prefetch" href="/blog/assets/js/144.4961215c.js"><link rel="prefetch" href="/blog/assets/js/145.525d16a9.js"><link rel="prefetch" href="/blog/assets/js/146.658e63c1.js"><link rel="prefetch" href="/blog/assets/js/147.19a692b8.js"><link rel="prefetch" href="/blog/assets/js/148.7f0e38cd.js"><link rel="prefetch" href="/blog/assets/js/149.50d0d68d.js"><link rel="prefetch" href="/blog/assets/js/15.e29de84a.js"><link rel="prefetch" href="/blog/assets/js/150.120df742.js"><link rel="prefetch" href="/blog/assets/js/151.97fe437d.js"><link rel="prefetch" href="/blog/assets/js/152.817613a6.js"><link rel="prefetch" href="/blog/assets/js/153.605c9713.js"><link rel="prefetch" href="/blog/assets/js/154.5b4e1887.js"><link rel="prefetch" href="/blog/assets/js/155.4e29cbbb.js"><link rel="prefetch" href="/blog/assets/js/156.9c301e31.js"><link rel="prefetch" href="/blog/assets/js/157.cd421f93.js"><link rel="prefetch" href="/blog/assets/js/158.18e563f1.js"><link rel="prefetch" href="/blog/assets/js/159.5a290e4e.js"><link rel="prefetch" href="/blog/assets/js/16.6c65a01b.js"><link rel="prefetch" href="/blog/assets/js/160.9edcb4c5.js"><link rel="prefetch" href="/blog/assets/js/161.dcbac19e.js"><link rel="prefetch" href="/blog/assets/js/162.b0ecd9b3.js"><link rel="prefetch" href="/blog/assets/js/163.f128846a.js"><link rel="prefetch" href="/blog/assets/js/164.619408cd.js"><link rel="prefetch" href="/blog/assets/js/165.0d346034.js"><link rel="prefetch" href="/blog/assets/js/166.78572d82.js"><link rel="prefetch" href="/blog/assets/js/167.c9d89b8a.js"><link rel="prefetch" href="/blog/assets/js/168.22e11970.js"><link rel="prefetch" href="/blog/assets/js/169.5615f6fd.js"><link rel="prefetch" href="/blog/assets/js/17.5d08aa45.js"><link rel="prefetch" href="/blog/assets/js/170.d1b38841.js"><link rel="prefetch" href="/blog/assets/js/171.145d5ddb.js"><link rel="prefetch" href="/blog/assets/js/172.a1b90025.js"><link rel="prefetch" href="/blog/assets/js/173.1043f8ab.js"><link rel="prefetch" href="/blog/assets/js/174.86a37eca.js"><link rel="prefetch" href="/blog/assets/js/175.3e47de8f.js"><link rel="prefetch" href="/blog/assets/js/176.da892959.js"><link rel="prefetch" href="/blog/assets/js/177.5ea2066a.js"><link rel="prefetch" href="/blog/assets/js/178.8b0674e0.js"><link rel="prefetch" href="/blog/assets/js/179.550a3f19.js"><link rel="prefetch" href="/blog/assets/js/180.f1ff20ec.js"><link rel="prefetch" href="/blog/assets/js/181.10b12cef.js"><link rel="prefetch" href="/blog/assets/js/182.f2821c76.js"><link rel="prefetch" href="/blog/assets/js/183.6c9b696e.js"><link rel="prefetch" href="/blog/assets/js/184.abf56f9a.js"><link rel="prefetch" href="/blog/assets/js/185.c9239431.js"><link rel="prefetch" href="/blog/assets/js/186.c97aa2ec.js"><link rel="prefetch" href="/blog/assets/js/187.4c8c3ada.js"><link rel="prefetch" href="/blog/assets/js/188.ad4e71d3.js"><link rel="prefetch" href="/blog/assets/js/189.b6ccf2b0.js"><link rel="prefetch" href="/blog/assets/js/19.bce160c3.js"><link rel="prefetch" href="/blog/assets/js/190.e571134c.js"><link rel="prefetch" href="/blog/assets/js/191.b4e49083.js"><link rel="prefetch" href="/blog/assets/js/192.d85b13cb.js"><link rel="prefetch" href="/blog/assets/js/193.606d3e49.js"><link rel="prefetch" href="/blog/assets/js/194.5d77b216.js"><link rel="prefetch" href="/blog/assets/js/195.c8e69533.js"><link rel="prefetch" href="/blog/assets/js/196.7d961c59.js"><link rel="prefetch" href="/blog/assets/js/197.9dbf609a.js"><link rel="prefetch" href="/blog/assets/js/198.5d987c5e.js"><link rel="prefetch" href="/blog/assets/js/199.1a98095d.js"><link rel="prefetch" href="/blog/assets/js/20.2834605e.js"><link rel="prefetch" href="/blog/assets/js/200.70b68a72.js"><link rel="prefetch" href="/blog/assets/js/201.ae336ef6.js"><link rel="prefetch" href="/blog/assets/js/202.407270b6.js"><link rel="prefetch" href="/blog/assets/js/203.cbcb428a.js"><link rel="prefetch" href="/blog/assets/js/204.e4973beb.js"><link rel="prefetch" href="/blog/assets/js/205.d9914200.js"><link rel="prefetch" href="/blog/assets/js/206.990f9ae9.js"><link rel="prefetch" href="/blog/assets/js/207.4b8e5a93.js"><link rel="prefetch" href="/blog/assets/js/208.eea28b49.js"><link rel="prefetch" href="/blog/assets/js/209.63f323fe.js"><link rel="prefetch" href="/blog/assets/js/21.fee316e1.js"><link rel="prefetch" href="/blog/assets/js/210.2a1fb621.js"><link rel="prefetch" href="/blog/assets/js/211.a3d6209c.js"><link rel="prefetch" href="/blog/assets/js/212.3e00a674.js"><link rel="prefetch" href="/blog/assets/js/213.bf6aded1.js"><link rel="prefetch" href="/blog/assets/js/214.61beada6.js"><link rel="prefetch" href="/blog/assets/js/215.15e31a0a.js"><link rel="prefetch" href="/blog/assets/js/216.f1fe8402.js"><link rel="prefetch" href="/blog/assets/js/217.e85bb42b.js"><link rel="prefetch" href="/blog/assets/js/218.b94be1bf.js"><link rel="prefetch" href="/blog/assets/js/219.961a3561.js"><link rel="prefetch" href="/blog/assets/js/22.56af4709.js"><link rel="prefetch" href="/blog/assets/js/220.bffd53e1.js"><link rel="prefetch" href="/blog/assets/js/221.12733df3.js"><link rel="prefetch" href="/blog/assets/js/222.7c11dad3.js"><link rel="prefetch" href="/blog/assets/js/223.e7036d91.js"><link rel="prefetch" href="/blog/assets/js/224.85e50163.js"><link rel="prefetch" href="/blog/assets/js/225.a1293371.js"><link rel="prefetch" href="/blog/assets/js/226.e6f2562a.js"><link rel="prefetch" href="/blog/assets/js/227.297009e7.js"><link rel="prefetch" href="/blog/assets/js/228.caa31e29.js"><link rel="prefetch" href="/blog/assets/js/229.370785b1.js"><link rel="prefetch" href="/blog/assets/js/23.0369dc9b.js"><link rel="prefetch" href="/blog/assets/js/230.f347c5dd.js"><link rel="prefetch" href="/blog/assets/js/231.01b7b2f4.js"><link rel="prefetch" href="/blog/assets/js/232.db5f9e52.js"><link rel="prefetch" href="/blog/assets/js/233.21dd9b10.js"><link rel="prefetch" href="/blog/assets/js/234.b5fb8022.js"><link rel="prefetch" href="/blog/assets/js/235.6b7c41bd.js"><link rel="prefetch" href="/blog/assets/js/236.053eef62.js"><link rel="prefetch" href="/blog/assets/js/237.95e362fa.js"><link rel="prefetch" href="/blog/assets/js/238.37e75e24.js"><link rel="prefetch" href="/blog/assets/js/239.2ffb9e32.js"><link rel="prefetch" href="/blog/assets/js/24.03729d3c.js"><link rel="prefetch" href="/blog/assets/js/240.71d666f4.js"><link rel="prefetch" href="/blog/assets/js/241.849851c6.js"><link rel="prefetch" href="/blog/assets/js/242.c7255697.js"><link rel="prefetch" href="/blog/assets/js/243.0589be87.js"><link rel="prefetch" href="/blog/assets/js/244.8c1634fc.js"><link rel="prefetch" href="/blog/assets/js/245.9e0c1dc0.js"><link rel="prefetch" href="/blog/assets/js/246.8640af1d.js"><link rel="prefetch" href="/blog/assets/js/247.426a3b26.js"><link rel="prefetch" href="/blog/assets/js/248.4a96f0a2.js"><link rel="prefetch" href="/blog/assets/js/249.863af275.js"><link rel="prefetch" href="/blog/assets/js/25.82b281ff.js"><link rel="prefetch" href="/blog/assets/js/250.311af97e.js"><link rel="prefetch" href="/blog/assets/js/251.4a3d6640.js"><link rel="prefetch" href="/blog/assets/js/252.5296bc2f.js"><link rel="prefetch" href="/blog/assets/js/253.bbb04267.js"><link rel="prefetch" href="/blog/assets/js/254.72d1675b.js"><link rel="prefetch" href="/blog/assets/js/255.82c76ce4.js"><link rel="prefetch" href="/blog/assets/js/256.56e0d1be.js"><link rel="prefetch" href="/blog/assets/js/257.399cc6e3.js"><link rel="prefetch" href="/blog/assets/js/258.1db5a662.js"><link rel="prefetch" href="/blog/assets/js/259.40dc604f.js"><link rel="prefetch" href="/blog/assets/js/26.d6ceff6b.js"><link rel="prefetch" href="/blog/assets/js/260.2ca6faf0.js"><link rel="prefetch" href="/blog/assets/js/261.82545ade.js"><link rel="prefetch" href="/blog/assets/js/262.a31031bc.js"><link rel="prefetch" href="/blog/assets/js/263.7f23b3e5.js"><link rel="prefetch" href="/blog/assets/js/264.2657c8c6.js"><link rel="prefetch" href="/blog/assets/js/265.22587ffc.js"><link rel="prefetch" href="/blog/assets/js/266.2c3412f8.js"><link rel="prefetch" href="/blog/assets/js/267.c99e6825.js"><link rel="prefetch" href="/blog/assets/js/268.80c70647.js"><link rel="prefetch" href="/blog/assets/js/269.03a3e53a.js"><link rel="prefetch" href="/blog/assets/js/27.6f78faa5.js"><link rel="prefetch" href="/blog/assets/js/270.27fa6419.js"><link rel="prefetch" href="/blog/assets/js/271.59b6fa6d.js"><link rel="prefetch" href="/blog/assets/js/272.67407fe3.js"><link rel="prefetch" href="/blog/assets/js/273.afe7ff35.js"><link rel="prefetch" href="/blog/assets/js/274.422ddd40.js"><link rel="prefetch" href="/blog/assets/js/275.f2cdcc88.js"><link rel="prefetch" href="/blog/assets/js/276.b0e5f5ae.js"><link rel="prefetch" href="/blog/assets/js/277.282e7557.js"><link rel="prefetch" href="/blog/assets/js/278.1be14b75.js"><link rel="prefetch" href="/blog/assets/js/279.1e705b7b.js"><link rel="prefetch" href="/blog/assets/js/28.8aa1aa94.js"><link rel="prefetch" href="/blog/assets/js/280.12a7fcd2.js"><link rel="prefetch" href="/blog/assets/js/281.12f7b46e.js"><link rel="prefetch" href="/blog/assets/js/282.f05e82de.js"><link rel="prefetch" href="/blog/assets/js/283.3a1b285b.js"><link rel="prefetch" href="/blog/assets/js/284.45b973ba.js"><link rel="prefetch" href="/blog/assets/js/285.31f36de3.js"><link rel="prefetch" href="/blog/assets/js/286.7d7a655e.js"><link rel="prefetch" href="/blog/assets/js/287.dc7db303.js"><link rel="prefetch" href="/blog/assets/js/288.b557574b.js"><link rel="prefetch" href="/blog/assets/js/289.c16a5554.js"><link rel="prefetch" href="/blog/assets/js/29.b86e64af.js"><link rel="prefetch" href="/blog/assets/js/290.2c129f47.js"><link rel="prefetch" href="/blog/assets/js/291.578f71ed.js"><link rel="prefetch" href="/blog/assets/js/292.e0e7dbf2.js"><link rel="prefetch" href="/blog/assets/js/293.f5090a77.js"><link rel="prefetch" href="/blog/assets/js/294.cd211eb6.js"><link rel="prefetch" href="/blog/assets/js/295.b17a0f00.js"><link rel="prefetch" href="/blog/assets/js/296.72db81af.js"><link rel="prefetch" href="/blog/assets/js/297.1d6d35fd.js"><link rel="prefetch" href="/blog/assets/js/298.b72413a3.js"><link rel="prefetch" href="/blog/assets/js/299.f4e3c0b3.js"><link rel="prefetch" href="/blog/assets/js/30.c1ec4fb2.js"><link rel="prefetch" href="/blog/assets/js/300.35c58b9c.js"><link rel="prefetch" href="/blog/assets/js/301.10939e2f.js"><link rel="prefetch" href="/blog/assets/js/302.68ae1d4d.js"><link rel="prefetch" href="/blog/assets/js/303.6fd45e28.js"><link rel="prefetch" href="/blog/assets/js/304.08413893.js"><link rel="prefetch" href="/blog/assets/js/305.c3da5244.js"><link rel="prefetch" href="/blog/assets/js/306.43f9bce6.js"><link rel="prefetch" href="/blog/assets/js/307.85e3d449.js"><link rel="prefetch" href="/blog/assets/js/308.74e769a7.js"><link rel="prefetch" href="/blog/assets/js/309.e80618a3.js"><link rel="prefetch" href="/blog/assets/js/31.041821ff.js"><link rel="prefetch" href="/blog/assets/js/310.dd74067c.js"><link rel="prefetch" href="/blog/assets/js/311.fb346e33.js"><link rel="prefetch" href="/blog/assets/js/32.b1634bc2.js"><link rel="prefetch" href="/blog/assets/js/33.0cc7a735.js"><link rel="prefetch" href="/blog/assets/js/34.e0982e81.js"><link rel="prefetch" href="/blog/assets/js/35.8a9c8132.js"><link rel="prefetch" href="/blog/assets/js/36.9be5c01b.js"><link rel="prefetch" href="/blog/assets/js/37.73041c99.js"><link rel="prefetch" href="/blog/assets/js/38.b5aae6ab.js"><link rel="prefetch" href="/blog/assets/js/39.cbf80cb0.js"><link rel="prefetch" href="/blog/assets/js/40.a7fd2c40.js"><link rel="prefetch" href="/blog/assets/js/41.44ae195b.js"><link rel="prefetch" href="/blog/assets/js/42.45d7b35b.js"><link rel="prefetch" href="/blog/assets/js/43.bd9d3caa.js"><link rel="prefetch" href="/blog/assets/js/44.9bb5fcb4.js"><link rel="prefetch" href="/blog/assets/js/45.ee35edcb.js"><link rel="prefetch" href="/blog/assets/js/46.0be6c713.js"><link rel="prefetch" href="/blog/assets/js/47.bcb8c7b9.js"><link rel="prefetch" href="/blog/assets/js/48.1f7aefb7.js"><link rel="prefetch" href="/blog/assets/js/49.4a71ee53.js"><link rel="prefetch" href="/blog/assets/js/5.546c5040.js"><link rel="prefetch" href="/blog/assets/js/50.46ffed2a.js"><link rel="prefetch" href="/blog/assets/js/51.21f0343d.js"><link rel="prefetch" href="/blog/assets/js/52.eaa8ac96.js"><link rel="prefetch" href="/blog/assets/js/53.78c8c528.js"><link rel="prefetch" href="/blog/assets/js/54.72e06abc.js"><link rel="prefetch" href="/blog/assets/js/55.80d065c4.js"><link rel="prefetch" href="/blog/assets/js/56.0ce2b5a5.js"><link rel="prefetch" href="/blog/assets/js/57.26761c87.js"><link rel="prefetch" href="/blog/assets/js/58.7ef2df6d.js"><link rel="prefetch" href="/blog/assets/js/59.6e4b79c4.js"><link rel="prefetch" href="/blog/assets/js/6.aec86975.js"><link rel="prefetch" href="/blog/assets/js/60.018d68b1.js"><link rel="prefetch" href="/blog/assets/js/61.9e257bf1.js"><link rel="prefetch" href="/blog/assets/js/62.d41ab2f0.js"><link rel="prefetch" href="/blog/assets/js/63.acc05746.js"><link rel="prefetch" href="/blog/assets/js/64.8e7838a2.js"><link rel="prefetch" href="/blog/assets/js/65.024f9658.js"><link rel="prefetch" href="/blog/assets/js/66.570388e5.js"><link rel="prefetch" href="/blog/assets/js/67.effedd6f.js"><link rel="prefetch" href="/blog/assets/js/68.b257a9e7.js"><link rel="prefetch" href="/blog/assets/js/69.2bcff8c3.js"><link rel="prefetch" href="/blog/assets/js/7.5fd10343.js"><link rel="prefetch" href="/blog/assets/js/70.33c2f122.js"><link rel="prefetch" href="/blog/assets/js/71.732b7056.js"><link rel="prefetch" href="/blog/assets/js/72.2c48cf12.js"><link rel="prefetch" href="/blog/assets/js/73.113c1279.js"><link rel="prefetch" href="/blog/assets/js/74.a0d873f9.js"><link rel="prefetch" href="/blog/assets/js/75.2024547e.js"><link rel="prefetch" href="/blog/assets/js/76.9abec3c1.js"><link rel="prefetch" href="/blog/assets/js/77.875aa1b2.js"><link rel="prefetch" href="/blog/assets/js/78.819f1d6f.js"><link rel="prefetch" href="/blog/assets/js/79.12a65ca2.js"><link rel="prefetch" href="/blog/assets/js/8.48cea2d1.js"><link rel="prefetch" href="/blog/assets/js/80.3c991ff1.js"><link rel="prefetch" href="/blog/assets/js/81.2a604f16.js"><link rel="prefetch" href="/blog/assets/js/82.e7301eb6.js"><link rel="prefetch" href="/blog/assets/js/83.cceeff89.js"><link rel="prefetch" href="/blog/assets/js/84.2c06fd18.js"><link rel="prefetch" href="/blog/assets/js/85.ba6318e4.js"><link rel="prefetch" href="/blog/assets/js/86.70a1ef7f.js"><link rel="prefetch" href="/blog/assets/js/87.b88d612e.js"><link rel="prefetch" href="/blog/assets/js/88.7bebde5d.js"><link rel="prefetch" href="/blog/assets/js/89.68d01d1a.js"><link rel="prefetch" href="/blog/assets/js/9.edcfb5bf.js"><link rel="prefetch" href="/blog/assets/js/90.a49e88ef.js"><link rel="prefetch" href="/blog/assets/js/91.6bbbfd81.js"><link rel="prefetch" href="/blog/assets/js/92.e946dd38.js"><link rel="prefetch" href="/blog/assets/js/93.1bee92a2.js"><link rel="prefetch" href="/blog/assets/js/94.ebd7ac1e.js"><link rel="prefetch" href="/blog/assets/js/95.bcf46b56.js"><link rel="prefetch" href="/blog/assets/js/96.00546761.js"><link rel="prefetch" href="/blog/assets/js/97.e50f3493.js"><link rel="prefetch" href="/blog/assets/js/98.7d9def08.js"><link rel="prefetch" href="/blog/assets/js/99.eeb74be6.js">
    <link rel="stylesheet" href="/blog/assets/css/0.styles.c7398947.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container" data-v-1547b316><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blog/" class="home-link router-link-active"><!----> <span class="site-name">기억보다 기록을</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blog/Tag/" class="nav-link">
  Tag
</a></div><div class="nav-item"><a href="/blog/React/" class="nav-link router-link-active">
  React
</a></div><div class="nav-item"><a href="/blog/Vue/" class="nav-link">
  Vue
</a></div><div class="nav-item"><a href="/blog/Svelte/" class="nav-link">
  Svelte
</a></div><div class="nav-item"><a href="/blog/JS/" class="nav-link">
  JS
</a></div><div class="nav-item"><a href="/blog/TS/" class="nav-link">
  TS
</a></div><div class="nav-item"><a href="/blog/etc/" class="nav-link">
  기타
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Info" class="dropdown-title"><span class="title">Info</span> <span class="arrow down"></span></button> <button type="button" aria-label="Info" class="mobile-dropdown-title"><span class="title">Info</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/Kyounghwan01" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://github.com/Kyounghwan01/blog/issues/20" target="_blank" rel="noopener noreferrer" class="nav-link external">
  블로그 건의하기
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/blog/Tag/" class="nav-link">
  Tag
</a></div><div class="nav-item"><a href="/blog/React/" class="nav-link router-link-active">
  React
</a></div><div class="nav-item"><a href="/blog/Vue/" class="nav-link">
  Vue
</a></div><div class="nav-item"><a href="/blog/Svelte/" class="nav-link">
  Svelte
</a></div><div class="nav-item"><a href="/blog/JS/" class="nav-link">
  JS
</a></div><div class="nav-item"><a href="/blog/TS/" class="nav-link">
  TS
</a></div><div class="nav-item"><a href="/blog/etc/" class="nav-link">
  기타
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Info" class="dropdown-title"><span class="title">Info</span> <span class="arrow down"></span></button> <button type="button" aria-label="Info" class="mobile-dropdown-title"><span class="title">Info</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/Kyounghwan01" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://github.com/Kyounghwan01/blog/issues/20" target="_blank" rel="noopener noreferrer" class="nav-link external">
  블로그 건의하기
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/blog/React/" aria-current="page" class="sidebar-link">Guide</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>React18</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>mobx</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>next</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>optimize-performance</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>react-native</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/React/react-native/android-setting/" class="sidebar-link">react-native android 애뮬레이터, 디바이스 세팅</a></li><li><a href="/blog/React/react-native/animated-number/" class="sidebar-link">react-native animated numbers 만들기</a></li><li><a href="/blog/React/react-native/auto-height-image/" class="sidebar-link">react-native 이미지 사이즈에 맞게 넣기</a></li><li><a href="/blog/React/react-native/bluetooth/" aria-current="page" class="active sidebar-link">bluetooth 개발기</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/React/react-native/bluetooth/#서론" class="sidebar-link">서론</a></li><li class="sidebar-sub-header"><a href="/blog/React/react-native/bluetooth/#과하게-삽질한-경험들" class="sidebar-link">과하게 삽질한 경험들</a></li><li class="sidebar-sub-header"><a href="/blog/React/react-native/bluetooth/#and-ios-ci-cd-구성" class="sidebar-link">and, ios ci/cd 구성</a></li><li class="sidebar-sub-header"><a href="/blog/React/react-native/bluetooth/#android-bluetooth-scan-callback-error" class="sidebar-link">android bluetooth scan callback error</a></li></ul></li><li><a href="/blog/React/react-native/deeplink/" class="sidebar-link">react-native deeplink 딥링크 + fcm</a></li><li><a href="/blog/React/react-native/image-dynamic-import/" class="sidebar-link">react-native dynamic image import</a></li><li><a href="/blog/React/react-native/ios-cert/" class="sidebar-link">react-native fastlane ios 인증서 갱신</a></li><li><a href="/blog/React/react-native/ota-actions/" class="sidebar-link">github action 파이프라인 설계</a></li><li><a href="/blog/React/react-native/progress-bar/" class="sidebar-link">progress bar 만들기</a></li><li><a href="/blog/React/react-native/react-natice-new-tab/" class="sidebar-link">react-native-webView 웹뷰 내 a 태그 클릭시 새로운 탭 띄우기 (new tab)</a></li><li><a href="/blog/React/react-native/react-native-firebase-ios-error/" class="sidebar-link">react-native firebase colud messaging (fcm) ios - NotRegistered</a></li><li><a href="/blog/React/react-native/react-native-tab-view/" class="sidebar-link">react-native 상단 탭, 스와이프로 화면 이동</a></li><li><a href="/blog/React/react-native/react-native-webview/" class="sidebar-link">react-native webview 사용법, webview, rn 데이터 통신</a></li><li><a href="/blog/React/react-native/video/" class="sidebar-link">react-native video</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>react-query</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>redux</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>styled-components</span> <span class="arrow right"></span></p> <!----></section></li><li><a href="/blog/React/React-18-error/" class="sidebar-link">destory is not function 에러 해결법</a></li><li><a href="/blog/React/a-tag-trap/" class="sidebar-link">react-redux state 초기화</a></li><li><a href="/blog/React/absoulte-import/" class="sidebar-link">React.js - 절대경로 설정</a></li><li><a href="/blog/React/antd-resize-bundle-size/" class="sidebar-link">antd 번들 사이즈 줄이기</a></li><li><a href="/blog/React/boolean-useState-not-working/" class="sidebar-link">useState boolean 값 안바뀌는 경우 해결</a></li><li><a href="/blog/React/cant-perform-a-React-state-update-on-an-unmounted-component/" class="sidebar-link">router 이동시 메모리 lack 에러 (Can't perform a React state update on an unmounted component. This is a no-op, but it indicates a memory leak in your application.)</a></li><li><a href="/blog/React/canvas-drawImage-error/" class="sidebar-link">react에서 canvas에 image 넣을 때 에러 해결법</a></li><li><a href="/blog/React/chart-js/" class="sidebar-link">chartjs 예시</a></li><li><a href="/blog/React/clipboard-copy/" class="sidebar-link">클립보드 텍스트 복사하기</a></li><li><a href="/blog/React/common-component/" class="sidebar-link">React.js - 중복으로 쓰이는 공통 컴포넌트 만들기</a></li><li><a href="/blog/React/container-presenter-dessign-pattern/" class="sidebar-link">React.js - presentational &amp; container 디자인 패턴</a></li><li><a href="/blog/React/custome-hook/" class="sidebar-link">React.js - 커스텀 훅 만들기</a></li><li><a href="/blog/React/debounce/" class="sidebar-link">React.js - lodash debounce react에서 사용하기 (useCallback)</a></li><li><a href="/blog/React/deeplink/" class="sidebar-link">모바일 웹에서 앱 실행하기 deeplink 사용법</a></li><li><a href="/blog/React/event-scroll-bottom/" class="sidebar-link">React.js - 이벤트 발생시 스크롤 맨 밑으로 내리기</a></li><li><a href="/blog/React/exhaustive-deps-warning/" class="sidebar-link">React.js - exhaustive-deps-warning 해결법</a></li><li><a href="/blog/React/focus-blur/" class="sidebar-link">focus, blur 예제</a></li><li><a href="/blog/React/handling-svg/" class="sidebar-link">react, next에서 svg 다루기</a></li><li><a href="/blog/React/image-upload/" class="sidebar-link">React.js - 이미지 업로드 &amp; 압축</a></li><li><a href="/blog/React/immer-js/" class="sidebar-link">React.js - 불변성과 immer.js</a></li><li><a href="/blog/React/infinite-scroll/" class="sidebar-link">react로 구현하는 무한 스크롤</a></li><li><a href="/blog/React/mock/" class="sidebar-link">mock 데이터 손쉽게 구현하기</a></li><li><a href="/blog/React/react-context-api/" class="sidebar-link">react context api 개념 &amp; 예시</a></li><li><a href="/blog/React/react-env/" class="sidebar-link">환경변수 설정 (env)</a></li><li><a href="/blog/React/react-hook/" class="sidebar-link">react hook 정리</a></li><li><a href="/blog/React/signature_pad/" class="sidebar-link">웹에서 signature_pad를 이용해 서명(싸인) 받기</a></li><li><a href="/blog/React/time-localization/" class="sidebar-link">서버 시간과 지역이 다른 웹 시간 동기화</a></li><li><a href="/blog/React/useRef-createRef/" class="sidebar-link">react - React.createRef and React.useRef 차이</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="react-native-bluetooth-개발기"><a href="#react-native-bluetooth-개발기" class="header-anchor">#</a> react-native bluetooth 개발기</h1> <h2 id="서론"><a href="#서론" class="header-anchor">#</a> 서론</h2> <p>신사업을 지원하면서 react-native로 esp-bluefi와 블루투스 통신하는 기계들 간의 통신하는 개발을 시작하게 되었습니다. 서비스 특성상, 블루투스 스캔 및 connect하여 앱과 기기간 통신하는 로직은 24시간 돌아가야함으로, 백그라운드에 로직을 구현해야했고, rn은 포그라운드에서만 동작을 하기 때문에 native도 직접 개발하게 되었고, 저는 안드로이드를 java로 개발하게 되었습니다.</p> <p>ios는 다른분이 swift로 개발을 하게 되었고, ios도 24시간 백그라운드에 돌아야하지만 애플 정책상, 앱을 강제 종료한 경우에는 무조건 백그라운드 로직이 취소되기 때문에, 앱이 백그라운드, 포그라운드에 있는 경우만 로직이 실행되도록 정책을 바꾸었습니다.</p> <p>and는 앱을 강제종료하여도 특정 로직만 넣어주면 24시간 진행이 가능합니다. 그러나 배터리를 계속 잡아먹는 앱이 존재합니다 등, and 자체에서 해당앱이 24시간 돌고 있다는 노티를 주고 있고, 그 푸시를 보고 앱을 절전시키면 백그라운드는 종료 되었습니다.</p> <p>이러한 상황을 제외하고는 24시간 스캔 및 connect와 데이터 요청 및 받아오면 mqtt 통신으로 서버에 ble data 전송하는 로직을 구현하였습니다.</p> <p>mqtt는 iot 디바이스를 위한 통신 기법으로 아주 작은 리소스로 통신을 할 수 있는 프로토콜입니다. 차후에 더 자세히 알아보도록 하겠습니다.</p> <p>아래는 개발하면서 어려웠던 부분 및 해결한 리스트입니다.</p> <h2 id="과하게-삽질한-경험들"><a href="#과하게-삽질한-경험들" class="header-anchor">#</a> 과하게 삽질한 경험들</h2> <p>rn부분은 여태껏 계속 해온 부분이기에 없었고, and java는 처음 경험하는 언어 및 환경이기에 작업하는데 많은 시간이 걸렸습니다. 그중 정말 어려웠던 경험들을 서술합니다.</p> <h3 id="ble-disconnect가-안되는-상황"><a href="#ble-disconnect가-안되는-상황" class="header-anchor">#</a> ble disconnect가 안되는 상황</h3> <h4 id="현상"><a href="#현상" class="header-anchor">#</a> 현상</h4> <p>로직상 ble disconnect를 했고, disconnect가 했다는 method까지 콘솔에 찍힌 상황이지만 정작 디바이스를 다른 폰에서 보았을 때는 disconnect가 안되고 원래 기기에 계속 붙어 있는 현상</p> <h4 id="원인-파악"><a href="#원인-파악" class="header-anchor">#</a> 원인 파악</h4> <p>nrf connect라는 앱으로 해당 기기가 연결이 붙어있는지 확인, 어딘가에 붙어있다면 원래 기기의 블루투스를 끄거나 폰을 껐을때 nrf connect앱에 해당기기가 연결 가능 상태로 변경되면 원래 기기가 disconnect를 하지 않았다고 파악.</p> <p>ble connect를 하면 bluetooth gatt라는 객체가 생성되고 그 gatt를 이용해 데이터를 기기로 요청하든 disconnect를 하던 하는데, 이 객체가 문제가 있다고 판단.</p> <p>맨처음 기기를 스캔하고 연결을 하면 해당 gatt 객체가 생성 될 텐데, 그 객체가 계속 다른 값으로 치환되고 있고, gatt값들이 어딘가에 계속 쌓여서 가장 최근 gatt를 close하여도 기존에 쌓여있던 gatt객체는 close되지 않았기에 disconnect가 되지 않는 문제였음.</p> <h4 id="해결"><a href="#해결" class="header-anchor">#</a> 해결</h4> <p>기기와 연결하면 gatt는 무조건 하나만 생성되게 하였고, 어떠한 이유로 gatt가 비정상적으로 만들어져 기기간 통신이 불가능하면 아예 disconnect를 하고 다시 connection을 맺어 gatt 객체를 재 생성하도록 수정</p> <h3 id="rn과-native간-스캔-연동성"><a href="#rn과-native간-스캔-연동성" class="header-anchor">#</a> rn과 native간 스캔 연동성</h3> <p>rn과 native가 동시에 스캔은 가능하다. 그러나 스캔 결과는 공유되지 않는다. 그래서 만약 rn이 a라는 기기를 스캔하고 연결했다면 native는 a라는 기기를 스캔할수도 연결 할 수도 없다. 그렇기에 어느 한쪽에서 스캔을 하고 연결하여 read or write를 하려면 안쓰는 쪽은 ble scan을 취소해야한다.</p> <h3 id="펌웨어-업데이트시-ble-disconnect가-안되는-상황"><a href="#펌웨어-업데이트시-ble-disconnect가-안되는-상황" class="header-anchor">#</a> 펌웨어 업데이트시 ble disconnect가 안되는 상황</h3> <p>FirmwareUpgradeManager라는 라이브러리를 사용하여 해당 기기에 새로운 펌웨어 정보가 업데이트 하면 앱에서 기기에 연결하여 업데이트 하는 기능이 있었다.</p> <p>rn에서도 native에서도 기기를 검색하여 펌웨어 업데이트를 해야해서 해당 펌웨어 서비스에서 스캔 및 커넥션 및 업데이트 및 disconnect를 하기로 하였다.</p> <p>FirmwareUpgradeManager는 사용하기 쉬웠다. 펌웨어 업데이트할 데이터가 있는 file path와 디바이스 네임만 있으면 자체적으로 스캔 및 커넥션 및 업데이트가 가능하다. disconnect까지 해주는줄 알고 개발했는데 disconnect가 안되도록 애초에 라이브러리가 설계되어있다. 왜 그런건지 지금도 의문이다. 그래서 수동으로 해당 연결을 가진 객체를 가져와서 기기 업데이트가 완료되면 release하도록 명령을 내렸다.</p> <h3 id="앱-스캔-connection-vs-다른-iot-기기-스캔-connection"><a href="#앱-스캔-connection-vs-다른-iot-기기-스캔-connection" class="header-anchor">#</a> 앱 스캔 connection vs 다른 iot 기기 스캔 connection</h3> <p>앱의 스캔 및 연결하는 속도는 생각보다 많이 빠르다. 괜히 폰이 비싼게 아녔다. 내가 개발하는 a라는 기기는 b라는 기기가 없으면 a는 앱에 붙고, b가 있으면 앱과 연결을 취소하고 a는 b에 붙어야한다. 앱이 a에 붙고있다가 b가 스캔되어 a의 연결을 취소해도 b에 안붙고 계속 앱에 붙는 현상이 있었다.</p> <p>위쪽에 ble disconnect가 안되는 현상의 원인 파악하는 방법대로 원인을 인지하였고, 파악 결과 앱이 disconnect를 해도 스캔이 돌고있으면 b라는 기기보다 더 빠르게 스캔되어 연결되는 현상이 있었다. (이게 신기한게 and는 빠르고 ios는 스캔이 느려서 ios는 b라는 기기에 붙는다.) 그래서 a와 연결 해제 및 스캔 취소 및 30초 후 스캔 재시작 하는 로직을 넣어 해결하였다.</p> <h3 id="스캔-및-connection-하고-물리적인-거리가-멀어져-disconnect되고-다시-가까워져-connect를-해야하는데-안되는-상황"><a href="#스캔-및-connection-하고-물리적인-거리가-멀어져-disconnect되고-다시-가까워져-connect를-해야하는데-안되는-상황" class="header-anchor">#</a> 스캔 및 connection 하고 물리적인 거리가 멀어져 disconnect되고 다시 가까워져 connect를 해야하는데 안되는 상황</h3> <p>최초 1회에 스캔할때 a라는 기기가 스캔되어 connection하고 데이터 통신까지 잘된다. 그런데 멀어지고 연결이 끊기고 다시 가까워지면 스캔에 걸려 연결을 해야하는다. 애초에 스캔에 a라는 기기가 걸리지 않는다. 2일 삽질하고 나온 결과는 스캔 시작하는 객체에 해당 기기의 고유 serviceUuid로 필터를 걸어줘야한다. 왜 그런지 모르겠다. 아무데도 나오지 않는다..... 밑에 나오는 ios의 스캔 오류를 해결하면서 혹시 이것도 그런가? 싶어서 했는데 얻어걸렸다....</p> <h3 id="ios-백그라운드에서-스캔시-기기를-찾지-못하는-현상"><a href="#ios-백그라운드에서-스캔시-기기를-찾지-못하는-현상" class="header-anchor">#</a> ios 백그라운드에서 스캔시 기기를 찾지 못하는 현상</h3> <p>ios도 스캔시 해당 기기의 고유 serviceUuid로 필터를 걸어줘야만 백그라운드에서 스캔시 기기를 스캔할 수 있었다. 이건 자료가 많아서 빨리 해결되었다.</p> <h3 id="앱-실행-중-블루투스를-끄거나-키면-앱이-crash-되는-현상"><a href="#앱-실행-중-블루투스를-끄거나-키면-앱이-crash-되는-현상" class="header-anchor">#</a> 앱 실행 중 블루투스를 끄거나 키면 앱이 crash 되는 현상</h3> <p>이 현상은 구형폰 (2010년대 폰)에서 발생하고 비교적 최신폰들은 그렇지 않았다. 원인은 권한 문제로 매니페스트 파일을 수정하여 해결하였다. (블루투스 어드민 권한 때문에 터졌다.)</p> <h3 id="bluetooth-권한이-보이지-않는-현상"><a href="#bluetooth-권한이-보이지-않는-현상" class="header-anchor">#</a> bluetooth 권한이 보이지 않는 현상</h3> <p>안드로이드 버전 10이하는 블루투스 권한이 없다. 위치권한만 허용하면 블루투스가 자동으로 실행된다. 11 버전 이상에서는 블루투스 권한을 따로 받야야 한다.</p> <h3 id="iot-개발자간-업무-협의"><a href="#iot-개발자간-업무-협의" class="header-anchor">#</a> iot 개발자간 업무 협의</h3> <p>iot 개발자들은 기기의 용량이 적기 때문에 byte 단위로 소통하고, 통신도 byte array로 들어오기 때문에 16진수로 변환하고 byte array를 연결하고 별 이상한 짓을 해야 사람이 읽을 수 있는 값으로 변환 된다. 보낼때도 byte array로 변환하여 보내야 한다. 맨처음 이 값을 읽고 보내는 과정에서 무슨 말인지 몰라 삽질을 많이 하였다. esp bluefi 문서를 보면서 진짜 방탈출 하는 기분으로 도큐먼트를 해석한 시간만 꼬박 하루를 보냈다.</p> <h3 id="rn에서-ble-disconnect시-disconnect이-제대로-되지-않는-점"><a href="#rn에서-ble-disconnect시-disconnect이-제대로-되지-않는-점" class="header-anchor">#</a> rn에서 ble disconnect시 disconnect이 제대로 되지 않는 점</h3> <p>위에서 본 <code>ble disconnect가 안되는 상황</code>과 동일한 상황이다. 해당 로직을 ios를 개발하신 분이 짠거라 ios는 해당 이슈가 없기에 고려하지 않고 하나의 기기에 여러 connection을 넣어도 disconnect에 이상이 없는 줄 알고 개발 하였다.</p> <p>다시 한번 리마인드 하면, ios는 한 기기에 대해 다중 connection을 넣어도 가장 최근 connection을 한 객체에 의해 데이터 통신 및 disconnect할때의 객체가 유지되어 모든 통신이 정상적으로 되지만 and는 여러 커넥션시 최초에 커넥션 한 ble 객체값을 알아야 disconnect가 됨으로 여러 connection을 하면 disconnect가 제대로 되지 않는다.</p> <p>그렇기에 scan시 해당 기기가 여러번 scan에 걸릴텐데, 최초 1회만 connection을 맺어줘야만 제대로 동작할 수 있다.</p> <h3 id="앞으로도-삽질은-계속-될-것-같다"><a href="#앞으로도-삽질은-계속-될-것-같다" class="header-anchor">#</a> 앞으로도 삽질은 계속 될 것 같다..</h3> <h2 id="and-ios-ci-cd-구성"><a href="#and-ios-ci-cd-구성" class="header-anchor">#</a> and, ios ci/cd 구성</h2> <p>rn코드는 ms의 코드푸시로 구현하여 ts, js파일이 변경되면 코드푸시가 돌아가도록 구현하였다.</p> <p>and, ios는 해당 파일이 변경되면 fastlane로 버전 및 빌드 및 배포 완료 또는 에러시 슬랙으로 완료 메세지 또는 에러 로그를 알려주는 배포 스크립트를 작성하였고, github action에서 testflight나 플레이스토어에 자동으로 배포하도록 구현하였다.</p> <p>이건 한글로 되있는 동영상이 많아서 비교적 쉽게 구현하였다.</p> <h2 id="android-bluetooth-scan-callback-error"><a href="#android-bluetooth-scan-callback-error" class="header-anchor">#</a> android bluetooth scan callback error</h2> <ul><li><p>안드 6.0 마시멜로 이상부터는 ble scan callback을 받으려면 위치 권한을 받고, 실제 유저가 위치서비스를 실행해야한다. 안하면 scan 시작은 되는데, scancallback에 아무런 정보가 들어오지 않는다.</p></li> <li><p>ios는 위치를 꺼도 scancallback이 들어온다.</p></li></ul> <div class="tags" data-v-5cbc9417><a href="/blog/tag/#react-native" data-v-5cbc9417>
    #react-native
  </a> <div class="profile" data-v-d40996d0 data-v-5cbc9417><img src="/blog/assets/img/profile.363ccd73.png" class="profile__image" data-v-d40996d0> <div class="profile__content" data-v-d40996d0><div class="profile__name" data-v-d40996d0><span data-v-d40996d0>노경환</span> <div onClick="{window.open('https://github.com/Kyounghwan01/blog')}" class="profile__github" data-v-d40996d0><svg width="20" height="20" fill="currentColor" viewBox="0 0 20 20" data-v-d40996d0><mask id="github" width="20" height="20" x="0" y="0" maskUnits="userSpaceOnUse" data-v-d40996d0><path fill="#ffffff" fill-rule="evenodd" d="M6.69 15.944c0 .08-.093.145-.21.145-.133.012-.226-.053-.226-.145 0-.081.093-.146.21-.146.12-.012.226.053.226.146zm-1.255-.182c-.028.08.053.173.174.198.105.04.226 0 .25-.081.024-.08-.053-.173-.174-.21-.104-.028-.221.012-.25.093zm1.783-.068c-.117.028-.198.104-.186.197.012.08.117.133.238.105.117-.028.198-.105.186-.186-.012-.076-.121-.129-.238-.116zM9.87.242C4.278.242 0 4.488 0 10.08c0 4.471 2.815 8.298 6.835 9.645.516.093.697-.226.697-.488 0-.25-.012-1.63-.012-2.476 0 0-2.822.605-3.415-1.202 0 0-.46-1.173-1.121-1.475 0 0-.924-.633.064-.621 0 0 1.004.08 1.557 1.04.883 1.557 2.363 1.109 2.94.843.092-.645.354-1.093.645-1.36-2.255-.25-4.529-.576-4.529-4.455 0-1.109.307-1.665.952-2.375-.105-.262-.448-1.342.105-2.738C5.56 4.157 7.5 5.51 7.5 5.51a9.474 9.474 0 0 1 2.532-.344c.86 0 1.726.117 2.533.343 0 0 1.939-1.355 2.782-1.089.552 1.4.21 2.476.105 2.738.645.714 1.04 1.27 1.04 2.375 0 3.891-2.375 4.202-4.63 4.456.372.319.686.923.686 1.87 0 1.36-.012 3.041-.012 3.372 0 .262.186.58.698.488C17.266 18.379 20 14.552 20 10.08 20 4.488 15.464.24 9.871.24zM3.919 14.149c-.052.04-.04.133.029.21.064.064.157.093.21.04.052-.04.04-.133-.029-.21-.064-.064-.157-.092-.21-.04zm-.435-.326c-.028.052.012.117.093.157.064.04.145.028.173-.028.028-.053-.012-.117-.093-.158-.08-.024-.145-.012-.173.029zm1.306 1.435c-.064.053-.04.174.053.25.092.093.21.105.262.04.052-.052.028-.173-.053-.25-.088-.092-.21-.104-.262-.04zm-.46-.593c-.064.04-.064.146 0 .238.065.093.174.133.226.093.065-.053.065-.157 0-.25-.056-.093-.16-.133-.225-.08z" clip-rule="evenodd" data-v-d40996d0></path></mask> <g mask="url(#github)" data-v-d40996d0><path fill="currentColor" d="M0 0h20v20H0z" data-v-d40996d0></path></g></svg></div> <a class="profile-mail" data-v-d40996d0><svg width="20" height="20" fill="none" viewBox="0 0 32 32" data-testid="email" data-v-d40996d0><path fill="currentColor" d="M16 16.871L1.019 5H30.98L16 16.871zm0 3.146L1 8.131V27h30V8.131L16 20.017z" data-v-d40996d0></path></svg></a> <!----></div> <div class="profile__desc" data-v-d40996d0>
      이 글이 도움이 되셨다면! 깃헙 스타 부탁드립니다 😊😄 <br data-v-d40996d0></div></div></div></div> <div></div></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">최근변경일:</span> <span class="time">12/30/2025, 2:40:23 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/blog/React/react-native/auto-height-image/" class="prev">
        react-native 이미지 사이즈에 맞게 넣기
      </a></span> <span class="next"><a href="/blog/React/react-native/deeplink/">
        react-native deeplink 딥링크 + fcm
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/blog/assets/js/app.931262f3.js" defer></script><script src="/blog/assets/js/4.a9445ddb.js" defer></script><script src="/blog/assets/js/2.f265073a.js" defer></script><script src="/blog/assets/js/114.2f50fd79.js" defer></script><script src="/blog/assets/js/3.8c25584d.js" defer></script><script src="/blog/assets/js/18.7cb4e78a.js" defer></script>
  </body>
</html>
