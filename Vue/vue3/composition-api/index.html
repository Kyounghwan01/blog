<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>vue3 composition api 사용법 | 기억보다 기록을</title>
    <meta name="generator" content="VuePress 1.8.2">
    <script data-ad-client="ca-pub-6192551181326997" async="true" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <meta name="description" content="vue3 composition api 사용법, vue, computed, reactive, ref, watch, watchEffect, props, vuex, composable">
    <meta property="og:title" content="vue3 composition api 사용법, vue, computed, reactive, ref, watch, watchEffect, props, vuex, composable">
    <meta property="og:description" content="vue3 composition api 사용법, vue, computed, reactive, ref, watch, watchEffect, props, vuex, composable">
    <meta property="og:url" content="https://kyounghwan01.github.io/blog/Vue/vue3/composition-api/">
    
    <link rel="preload" href="/assets/css/0.styles.a6b34520.css" as="style"><link rel="preload" href="/assets/js/app.74b3fef7.js" as="script"><link rel="preload" href="/assets/js/3.e476b6ca.js" as="script"><link rel="preload" href="/assets/js/2.40e8d9c0.js" as="script"><link rel="preload" href="/assets/js/151.46e38e0a.js" as="script"><link rel="preload" href="/assets/js/5.52569db1.js" as="script"><link rel="preload" href="/assets/js/13.f769b4d0.js" as="script"><link rel="prefetch" href="/assets/js/10.1568bf5b.js"><link rel="prefetch" href="/assets/js/100.09650c59.js"><link rel="prefetch" href="/assets/js/101.7dc07b86.js"><link rel="prefetch" href="/assets/js/102.7ff2305e.js"><link rel="prefetch" href="/assets/js/103.24c0e332.js"><link rel="prefetch" href="/assets/js/104.ab539833.js"><link rel="prefetch" href="/assets/js/105.7e6be77d.js"><link rel="prefetch" href="/assets/js/106.135eb88a.js"><link rel="prefetch" href="/assets/js/107.f3b10cc8.js"><link rel="prefetch" href="/assets/js/108.3e744b38.js"><link rel="prefetch" href="/assets/js/109.b898f64d.js"><link rel="prefetch" href="/assets/js/11.5fcc5465.js"><link rel="prefetch" href="/assets/js/110.b0ae3f2b.js"><link rel="prefetch" href="/assets/js/111.1c72491d.js"><link rel="prefetch" href="/assets/js/112.a9ed5b21.js"><link rel="prefetch" href="/assets/js/113.908dbdd0.js"><link rel="prefetch" href="/assets/js/114.a2a2c06a.js"><link rel="prefetch" href="/assets/js/115.b07fb500.js"><link rel="prefetch" href="/assets/js/116.027db2ae.js"><link rel="prefetch" href="/assets/js/117.197b07d2.js"><link rel="prefetch" href="/assets/js/118.f7d2cf77.js"><link rel="prefetch" href="/assets/js/119.83f27aee.js"><link rel="prefetch" href="/assets/js/12.6cef8ff2.js"><link rel="prefetch" href="/assets/js/120.89ebc22e.js"><link rel="prefetch" href="/assets/js/121.f3b3dd0b.js"><link rel="prefetch" href="/assets/js/122.846a04d1.js"><link rel="prefetch" href="/assets/js/123.c4bd4687.js"><link rel="prefetch" href="/assets/js/124.6b678e7e.js"><link rel="prefetch" href="/assets/js/125.e2a97575.js"><link rel="prefetch" href="/assets/js/126.6a99972f.js"><link rel="prefetch" href="/assets/js/127.6d45b6d6.js"><link rel="prefetch" href="/assets/js/128.0c3a2bc6.js"><link rel="prefetch" href="/assets/js/129.69cdcbe0.js"><link rel="prefetch" href="/assets/js/130.e6b021fc.js"><link rel="prefetch" href="/assets/js/131.f0253f56.js"><link rel="prefetch" href="/assets/js/132.dc91270f.js"><link rel="prefetch" href="/assets/js/133.aec86977.js"><link rel="prefetch" href="/assets/js/134.b7528cbd.js"><link rel="prefetch" href="/assets/js/135.7c5e2690.js"><link rel="prefetch" href="/assets/js/136.4814cff5.js"><link rel="prefetch" href="/assets/js/137.e3d594f0.js"><link rel="prefetch" href="/assets/js/138.0464f4c0.js"><link rel="prefetch" href="/assets/js/139.126c30c4.js"><link rel="prefetch" href="/assets/js/14.4b29e41a.js"><link rel="prefetch" href="/assets/js/140.72e7c158.js"><link rel="prefetch" href="/assets/js/141.a9773567.js"><link rel="prefetch" href="/assets/js/142.e1946139.js"><link rel="prefetch" href="/assets/js/143.8d514287.js"><link rel="prefetch" href="/assets/js/144.50e6fa84.js"><link rel="prefetch" href="/assets/js/145.0e39ac13.js"><link rel="prefetch" href="/assets/js/146.575a4afd.js"><link rel="prefetch" href="/assets/js/147.e6af8a4a.js"><link rel="prefetch" href="/assets/js/148.6913f234.js"><link rel="prefetch" href="/assets/js/149.84aac03d.js"><link rel="prefetch" href="/assets/js/15.2ac92dbc.js"><link rel="prefetch" href="/assets/js/150.79dd67aa.js"><link rel="prefetch" href="/assets/js/152.6413cb61.js"><link rel="prefetch" href="/assets/js/153.9b11e408.js"><link rel="prefetch" href="/assets/js/154.db736405.js"><link rel="prefetch" href="/assets/js/155.08e6461a.js"><link rel="prefetch" href="/assets/js/156.be4437bc.js"><link rel="prefetch" href="/assets/js/157.49c646dd.js"><link rel="prefetch" href="/assets/js/158.f996bc11.js"><link rel="prefetch" href="/assets/js/159.ba2fb9d9.js"><link rel="prefetch" href="/assets/js/16.ea47a96b.js"><link rel="prefetch" href="/assets/js/160.8ee2c73f.js"><link rel="prefetch" href="/assets/js/161.f0c09be7.js"><link rel="prefetch" href="/assets/js/162.d05d2477.js"><link rel="prefetch" href="/assets/js/163.eab8963f.js"><link rel="prefetch" href="/assets/js/164.8e7ca290.js"><link rel="prefetch" href="/assets/js/165.3cd86999.js"><link rel="prefetch" href="/assets/js/166.29762b54.js"><link rel="prefetch" href="/assets/js/167.bb2d0396.js"><link rel="prefetch" href="/assets/js/168.26bd5494.js"><link rel="prefetch" href="/assets/js/169.4737d88f.js"><link rel="prefetch" href="/assets/js/17.c8eca80d.js"><link rel="prefetch" href="/assets/js/170.5b68dbc1.js"><link rel="prefetch" href="/assets/js/171.4a1a8461.js"><link rel="prefetch" href="/assets/js/172.866c3540.js"><link rel="prefetch" href="/assets/js/173.296b1481.js"><link rel="prefetch" href="/assets/js/174.5ef06110.js"><link rel="prefetch" href="/assets/js/175.7487533b.js"><link rel="prefetch" href="/assets/js/176.83536005.js"><link rel="prefetch" href="/assets/js/177.191a2840.js"><link rel="prefetch" href="/assets/js/178.cb466717.js"><link rel="prefetch" href="/assets/js/179.3e0bbf3a.js"><link rel="prefetch" href="/assets/js/18.3c59629b.js"><link rel="prefetch" href="/assets/js/180.1488e0b7.js"><link rel="prefetch" href="/assets/js/181.a4e40f3d.js"><link rel="prefetch" href="/assets/js/182.adfc51b0.js"><link rel="prefetch" href="/assets/js/183.e1531750.js"><link rel="prefetch" href="/assets/js/184.ea5ed4b8.js"><link rel="prefetch" href="/assets/js/185.68607461.js"><link rel="prefetch" href="/assets/js/186.5edca7e3.js"><link rel="prefetch" href="/assets/js/187.f4f2b1e6.js"><link rel="prefetch" href="/assets/js/188.a6ac3a9c.js"><link rel="prefetch" href="/assets/js/189.18f1d99c.js"><link rel="prefetch" href="/assets/js/19.27733852.js"><link rel="prefetch" href="/assets/js/190.ad316535.js"><link rel="prefetch" href="/assets/js/191.fea4eb15.js"><link rel="prefetch" href="/assets/js/192.d6b5f5a5.js"><link rel="prefetch" href="/assets/js/193.d394dbd8.js"><link rel="prefetch" href="/assets/js/194.c311fbcc.js"><link rel="prefetch" href="/assets/js/195.c1d0de3a.js"><link rel="prefetch" href="/assets/js/196.7eb41468.js"><link rel="prefetch" href="/assets/js/197.5f5223b3.js"><link rel="prefetch" href="/assets/js/198.1e72c0a5.js"><link rel="prefetch" href="/assets/js/199.e3fab363.js"><link rel="prefetch" href="/assets/js/20.f0be5d51.js"><link rel="prefetch" href="/assets/js/200.f7035137.js"><link rel="prefetch" href="/assets/js/201.d611b65a.js"><link rel="prefetch" href="/assets/js/202.e8d50848.js"><link rel="prefetch" href="/assets/js/203.4c22edf7.js"><link rel="prefetch" href="/assets/js/204.80c3b4c8.js"><link rel="prefetch" href="/assets/js/205.d30a983b.js"><link rel="prefetch" href="/assets/js/206.670a768c.js"><link rel="prefetch" href="/assets/js/207.08fdfbf9.js"><link rel="prefetch" href="/assets/js/208.b17778e6.js"><link rel="prefetch" href="/assets/js/209.e1c10f41.js"><link rel="prefetch" href="/assets/js/21.4a020bfb.js"><link rel="prefetch" href="/assets/js/210.9fd183a4.js"><link rel="prefetch" href="/assets/js/211.ac9833b8.js"><link rel="prefetch" href="/assets/js/212.44f3e6e7.js"><link rel="prefetch" href="/assets/js/213.33c9494e.js"><link rel="prefetch" href="/assets/js/214.95ac5cab.js"><link rel="prefetch" href="/assets/js/215.005f9195.js"><link rel="prefetch" href="/assets/js/216.3807c7a0.js"><link rel="prefetch" href="/assets/js/217.61d252c2.js"><link rel="prefetch" href="/assets/js/218.3f7f751f.js"><link rel="prefetch" href="/assets/js/219.d4395067.js"><link rel="prefetch" href="/assets/js/22.8157ca8c.js"><link rel="prefetch" href="/assets/js/220.132184b6.js"><link rel="prefetch" href="/assets/js/221.52d1653a.js"><link rel="prefetch" href="/assets/js/222.a1a05476.js"><link rel="prefetch" href="/assets/js/223.90d3c8f0.js"><link rel="prefetch" href="/assets/js/224.f507a3ee.js"><link rel="prefetch" href="/assets/js/225.2776a4dc.js"><link rel="prefetch" href="/assets/js/226.5966d1eb.js"><link rel="prefetch" href="/assets/js/227.9cf6f360.js"><link rel="prefetch" href="/assets/js/228.c2aded0d.js"><link rel="prefetch" href="/assets/js/229.ed761350.js"><link rel="prefetch" href="/assets/js/23.81b6dcec.js"><link rel="prefetch" href="/assets/js/230.7ade839c.js"><link rel="prefetch" href="/assets/js/231.f800c3ae.js"><link rel="prefetch" href="/assets/js/232.949edb26.js"><link rel="prefetch" href="/assets/js/233.2794f1c1.js"><link rel="prefetch" href="/assets/js/234.f045ef00.js"><link rel="prefetch" href="/assets/js/235.1a4d9f71.js"><link rel="prefetch" href="/assets/js/236.fc5479e3.js"><link rel="prefetch" href="/assets/js/237.c4d76bbb.js"><link rel="prefetch" href="/assets/js/238.4562be79.js"><link rel="prefetch" href="/assets/js/239.146343c5.js"><link rel="prefetch" href="/assets/js/24.b42e5f0d.js"><link rel="prefetch" href="/assets/js/240.552488b6.js"><link rel="prefetch" href="/assets/js/241.53ba2d78.js"><link rel="prefetch" href="/assets/js/242.a1dd516c.js"><link rel="prefetch" href="/assets/js/243.03180d6e.js"><link rel="prefetch" href="/assets/js/244.29cd35d8.js"><link rel="prefetch" href="/assets/js/245.2d4a139e.js"><link rel="prefetch" href="/assets/js/246.314c54b0.js"><link rel="prefetch" href="/assets/js/247.67a40851.js"><link rel="prefetch" href="/assets/js/248.a0ea43b7.js"><link rel="prefetch" href="/assets/js/249.33b3ce4a.js"><link rel="prefetch" href="/assets/js/25.dfbfeef2.js"><link rel="prefetch" href="/assets/js/250.bf30bf1c.js"><link rel="prefetch" href="/assets/js/251.2163b854.js"><link rel="prefetch" href="/assets/js/252.78444def.js"><link rel="prefetch" href="/assets/js/253.f9d94e01.js"><link rel="prefetch" href="/assets/js/26.adbffaeb.js"><link rel="prefetch" href="/assets/js/27.294645fc.js"><link rel="prefetch" href="/assets/js/28.58863efd.js"><link rel="prefetch" href="/assets/js/29.303847de.js"><link rel="prefetch" href="/assets/js/30.089548ed.js"><link rel="prefetch" href="/assets/js/31.a553774b.js"><link rel="prefetch" href="/assets/js/32.1cf8fe09.js"><link rel="prefetch" href="/assets/js/33.8be80c26.js"><link rel="prefetch" href="/assets/js/34.002163cd.js"><link rel="prefetch" href="/assets/js/35.add2145a.js"><link rel="prefetch" href="/assets/js/36.7e1a4fbb.js"><link rel="prefetch" href="/assets/js/37.eb3dc255.js"><link rel="prefetch" href="/assets/js/38.8f8e863b.js"><link rel="prefetch" href="/assets/js/39.65258bb0.js"><link rel="prefetch" href="/assets/js/4.4ff8a910.js"><link rel="prefetch" href="/assets/js/40.a9a984ff.js"><link rel="prefetch" href="/assets/js/41.9b65267c.js"><link rel="prefetch" href="/assets/js/42.0b095620.js"><link rel="prefetch" href="/assets/js/43.140227c0.js"><link rel="prefetch" href="/assets/js/44.e3bb900f.js"><link rel="prefetch" href="/assets/js/45.8f92b8f4.js"><link rel="prefetch" href="/assets/js/46.050e4e38.js"><link rel="prefetch" href="/assets/js/47.9518df64.js"><link rel="prefetch" href="/assets/js/48.257139d0.js"><link rel="prefetch" href="/assets/js/49.2f3ea85b.js"><link rel="prefetch" href="/assets/js/50.352d29cb.js"><link rel="prefetch" href="/assets/js/51.ab25551d.js"><link rel="prefetch" href="/assets/js/52.50384762.js"><link rel="prefetch" href="/assets/js/53.22a1740e.js"><link rel="prefetch" href="/assets/js/54.60846bd9.js"><link rel="prefetch" href="/assets/js/55.366421d4.js"><link rel="prefetch" href="/assets/js/56.2db53543.js"><link rel="prefetch" href="/assets/js/57.74d40c91.js"><link rel="prefetch" href="/assets/js/58.faa7b7e3.js"><link rel="prefetch" href="/assets/js/59.acadc8fb.js"><link rel="prefetch" href="/assets/js/6.3433b086.js"><link rel="prefetch" href="/assets/js/60.7fab342e.js"><link rel="prefetch" href="/assets/js/61.d61a9a01.js"><link rel="prefetch" href="/assets/js/62.3b990b9b.js"><link rel="prefetch" href="/assets/js/63.a50af484.js"><link rel="prefetch" href="/assets/js/64.e3591dc3.js"><link rel="prefetch" href="/assets/js/65.3c179211.js"><link rel="prefetch" href="/assets/js/66.84b80496.js"><link rel="prefetch" href="/assets/js/67.1d559974.js"><link rel="prefetch" href="/assets/js/68.4cb240e2.js"><link rel="prefetch" href="/assets/js/69.b580cc35.js"><link rel="prefetch" href="/assets/js/7.3718134e.js"><link rel="prefetch" href="/assets/js/70.fadc0bff.js"><link rel="prefetch" href="/assets/js/71.ec56ad36.js"><link rel="prefetch" href="/assets/js/72.02da8cbe.js"><link rel="prefetch" href="/assets/js/73.58ff0cbc.js"><link rel="prefetch" href="/assets/js/74.02ec462f.js"><link rel="prefetch" href="/assets/js/75.c179b7b4.js"><link rel="prefetch" href="/assets/js/76.8e3cdcdc.js"><link rel="prefetch" href="/assets/js/77.d20e191c.js"><link rel="prefetch" href="/assets/js/78.6981144d.js"><link rel="prefetch" href="/assets/js/79.517addbb.js"><link rel="prefetch" href="/assets/js/8.69cd663c.js"><link rel="prefetch" href="/assets/js/80.32fd5fe1.js"><link rel="prefetch" href="/assets/js/81.b9fcdccc.js"><link rel="prefetch" href="/assets/js/82.86147a3a.js"><link rel="prefetch" href="/assets/js/83.a63ff00a.js"><link rel="prefetch" href="/assets/js/84.e4fa99f2.js"><link rel="prefetch" href="/assets/js/85.39f6381e.js"><link rel="prefetch" href="/assets/js/86.fcf9b7bb.js"><link rel="prefetch" href="/assets/js/87.bdc0771f.js"><link rel="prefetch" href="/assets/js/88.d7ea5e1b.js"><link rel="prefetch" href="/assets/js/89.2ff31583.js"><link rel="prefetch" href="/assets/js/9.f50cc035.js"><link rel="prefetch" href="/assets/js/90.6be55e7b.js"><link rel="prefetch" href="/assets/js/91.946171a9.js"><link rel="prefetch" href="/assets/js/92.b96d59c0.js"><link rel="prefetch" href="/assets/js/93.96c1b5dc.js"><link rel="prefetch" href="/assets/js/94.6e70d407.js"><link rel="prefetch" href="/assets/js/95.2fa0e581.js"><link rel="prefetch" href="/assets/js/96.da40165d.js"><link rel="prefetch" href="/assets/js/97.0e288536.js"><link rel="prefetch" href="/assets/js/98.359db38a.js"><link rel="prefetch" href="/assets/js/99.92222ccd.js">
    <link rel="stylesheet" href="/assets/css/0.styles.a6b34520.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container" data-v-1547b316><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">기억보다 기록을</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/Tag/" class="nav-link">
  Tag
</a></div><div class="nav-item"><a href="/React/" class="nav-link">
  React
</a></div><div class="nav-item"><a href="/Vue/" class="nav-link router-link-active">
  Vue
</a></div><div class="nav-item"><a href="/Svelte/" class="nav-link">
  Svelte
</a></div><div class="nav-item"><a href="/JS/" class="nav-link">
  JS
</a></div><div class="nav-item"><a href="/TS/" class="nav-link">
  TS
</a></div><div class="nav-item"><a href="/etc/" class="nav-link">
  기타
</a></div><div class="nav-item"><a href="/dev-report/" class="nav-link">
  개발일기
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Info" class="dropdown-title"><span class="title">Info</span> <span class="arrow down"></span></button> <button type="button" aria-label="Info" class="mobile-dropdown-title"><span class="title">Info</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/about/" class="nav-link">
  About
</a></li><li class="dropdown-item"><!----> <a href="https://github.com/Kyounghwan01" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://github.com/Kyounghwan01/blog/issues/20" target="_blank" rel="noopener noreferrer" class="nav-link external">
  블로그 건의하기
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><h4>
          toy-project
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://svelte-trello.netlify.app/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  트렐로 클론 (svelte)
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://sales-statistics.netlify.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  매출분석 (vue + aws-lambda)
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://khgg.netlify.app/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  롤전적조회 (react)
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/Tag/" class="nav-link">
  Tag
</a></div><div class="nav-item"><a href="/React/" class="nav-link">
  React
</a></div><div class="nav-item"><a href="/Vue/" class="nav-link router-link-active">
  Vue
</a></div><div class="nav-item"><a href="/Svelte/" class="nav-link">
  Svelte
</a></div><div class="nav-item"><a href="/JS/" class="nav-link">
  JS
</a></div><div class="nav-item"><a href="/TS/" class="nav-link">
  TS
</a></div><div class="nav-item"><a href="/etc/" class="nav-link">
  기타
</a></div><div class="nav-item"><a href="/dev-report/" class="nav-link">
  개발일기
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Info" class="dropdown-title"><span class="title">Info</span> <span class="arrow down"></span></button> <button type="button" aria-label="Info" class="mobile-dropdown-title"><span class="title">Info</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/about/" class="nav-link">
  About
</a></li><li class="dropdown-item"><!----> <a href="https://github.com/Kyounghwan01" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://github.com/Kyounghwan01/blog/issues/20" target="_blank" rel="noopener noreferrer" class="nav-link external">
  블로그 건의하기
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><h4>
          toy-project
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="https://svelte-trello.netlify.app/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  트렐로 클론 (svelte)
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://sales-statistics.netlify.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  매출분석 (vue + aws-lambda)
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-subitem"><a href="https://khgg.netlify.app/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  롤전적조회 (react)
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/Vue/" aria-current="page" class="sidebar-link">Guide</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>vue</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>vue-router</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>vue3</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Vue/vue3/composition-api/" aria-current="page" class="active sidebar-link">vue3 composition api 사용법</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/Vue/vue3/composition-api/#composition-api가-나오게-된-배경" class="sidebar-link">composition api가 나오게 된 배경</a></li><li class="sidebar-sub-header"><a href="/Vue/vue3/composition-api/#composition-api-사용하기" class="sidebar-link">composition api 사용하기</a></li><li class="sidebar-sub-header"><a href="/Vue/vue3/composition-api/#setup" class="sidebar-link">setup</a></li><li class="sidebar-sub-header"><a href="/Vue/vue3/composition-api/#반응형-data-만들기" class="sidebar-link">반응형 data 만들기</a></li><li class="sidebar-sub-header"><a href="/Vue/vue3/composition-api/#ref-reactive-차이" class="sidebar-link">ref, reactive 차이</a></li><li class="sidebar-sub-header"><a href="/Vue/vue3/composition-api/#computed-watch" class="sidebar-link">computed &amp; watch</a></li><li class="sidebar-sub-header"><a href="/Vue/vue3/composition-api/#watcheffect" class="sidebar-link">watchEffect</a></li><li class="sidebar-sub-header"><a href="/Vue/vue3/composition-api/#watch-watcheffect-중지" class="sidebar-link">watch, watchEffect 중지</a></li><li class="sidebar-sub-header"><a href="/Vue/vue3/composition-api/#props" class="sidebar-link">props</a></li><li class="sidebar-sub-header"><a href="/Vue/vue3/composition-api/#life-cycle" class="sidebar-link">life-cycle</a></li><li class="sidebar-sub-header"><a href="/Vue/vue3/composition-api/#utils-함수-재사용-composable" class="sidebar-link">utils 함수 재사용 (composable)</a></li><li class="sidebar-sub-header"><a href="/Vue/vue3/composition-api/#vuex" class="sidebar-link">vuex</a></li></ul></li><li><a href="/Vue/vue3/composition-api-vs-vuex/" class="sidebar-link">composition api는 vuex를 대체할 수 있는가</a></li><li><a href="/Vue/vue3/composition-api-vuex/" class="sidebar-link">vue3에서 vuex 사용법</a></li><li><a href="/Vue/vue3/global-state/" class="sidebar-link">vue3 global 변수 다루기</a></li><li><a href="/Vue/vue3/teleport/" class="sidebar-link">vue3 teleport 사용법</a></li><li><a href="/Vue/vue3/vuex-ts/" class="sidebar-link">vuex typescript 사용법</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>vuepress</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>vuex</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="vue3-composition-api-사용법"><a href="#vue3-composition-api-사용법" class="header-anchor">#</a> vue3 composition api 사용법</h1> <p>우선적으로 알아두실 사항은 composition api은 옵션이라는 것입니다. 기존 vue2에서 사용하는 옵션 api를 사용하셔도 되고, 본인의 취향, 각 api의 장단점을 비교하여 composition api를 사용하여도 됩니다.</p> <h2 id="composition-api가-나오게-된-배경"><a href="#composition-api가-나오게-된-배경" class="header-anchor">#</a> composition api가 나오게 된 배경</h2> <p>옵션 api에서 데이터를 다룰 때는 아래 예시 코드처럼 다룹니다</p> <div class="language-js extra-class"><div class="highlight-lines"><br><br><br><div class="highlighted"> </div><br><br><br><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><br><br><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><br><br><br></div><pre class="language-js"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      books<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  methods<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">addBook</span><span class="token punctuation">(</span><span class="token parameter">title<span class="token punctuation">,</span> author</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span>books<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span> title<span class="token punctuation">,</span> author <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  computed<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token function">formattedBooks</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>books<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">book</span> <span class="token operator">=&gt;</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>book<span class="token punctuation">.</span>title<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">은 </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>book<span class="token punctuation">.</span>author<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">가 썻다</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>현재는 하나의 data만 있기에 간단해보이지만 위 컴포넌트에 수많은 데이터가 공존했다면 methods, computed도 그만큼 많아지고, books가 어디서 어떤 함수에 의해 변하는지 분산되어 추적이 어려워 집니다. 즉, 하나의 데이터(books)가 어떻게 변화하고 사용되는지 그룹핑 하는 것이 어렵습니다. 그에 따라 유지보수가 어려워집니다.</p> <p>컴포지션 api를 사용함으로 <strong>setup 함수에 데이터가 그룹핑</strong> 되어 보다 용이하게 데이터의 흐름을 파악하고 유지보수가 용이해집니다.</p> <p>또한 <strong>함수를 재사용</strong>하기가 용이합니다. 반복되는 코드 (필터링 등등)를 import하여 컴포지션 api 내부에서 사용함으로 유틸함수 재사용에 용이합니다.</p> <h2 id="composition-api-사용하기"><a href="#composition-api-사용하기" class="header-anchor">#</a> composition api 사용하기</h2> <h2 id="setup"><a href="#setup" class="header-anchor">#</a> setup</h2> <p>기존과는 다른 방식으로 setup 훅을 사용하고 그 내부를 이루는 요소는 아래와 같습니다. 개인적으로 react와 유사한 형식을 가졌다고 생각합니다.</p> <p>setup 훅 내부에 data와 function을 구성합니다.</p> <p>이때 구성되는 <strong>data는 아직 반응형이 아닙니다</strong></p> <div class="language-vue extra-class"><div class="highlight-lines"><br><br><br><br><br><br><br><br><br><br><br><div class="highlighted"> </div><div class="highlighted"> </div><br><br><br><br><br><br><br><br><br></div><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>home<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>{{ name }} {{ age }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>handleClick<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>click<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">&quot;HOME&quot;</span><span class="token punctuation">,</span>
  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 반응형 아님</span>
    <span class="token keyword">let</span> name <span class="token operator">=</span> <span class="token string">&quot;nkh&quot;</span><span class="token punctuation">;</span>
    <span class="token keyword">let</span> age <span class="token operator">=</span> <span class="token number">29</span><span class="token punctuation">;</span>

    <span class="token keyword">const</span> <span class="token function-variable function">handleClick</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span> name<span class="token punctuation">,</span> age<span class="token punctuation">,</span> handleClick <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="반응형-data-만들기"><a href="#반응형-data-만들기" class="header-anchor">#</a> 반응형 data 만들기</h2> <p>반응형 data를 만들 때는 <code>ref</code>와 <code>reactive</code>를 사용합니다.</p> <p>둘의 차이는 코드에서 설명하겠습니다.</p> <div class="language-vue extra-class"><div class="highlight-lines"><br><br><div class="highlighted"> </div><br><br><br><br><br><br><br><br><br><br><div class="highlighted"> </div><div class="highlighted"> </div><br><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><br><div class="highlighted"> </div><br><br><br><br><br></div><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>home<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>{{ person1.name }} {{ person1.value }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>handleClick<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>click<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> ref<span class="token punctuation">,</span> reactive <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">&quot;HOME&quot;</span><span class="token punctuation">,</span>
  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 데이터를 ref, reactive로 감싸면 반응형으로 바뀝니다.</span>
    <span class="token keyword">const</span> person1 <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">&quot;nkh&quot;</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">29</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> person2 <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span><span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">&quot;nki&quot;</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">26</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">const</span> <span class="token function-variable function">handleClick</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token comment">// ref로 감싼 값을 변경할 때는 value로 한번 들어가주고 값을 바꿉니다.</span>
      person1<span class="token punctuation">.</span>value<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">30</span><span class="token punctuation">;</span>

      <span class="token comment">// reactive는 바로 값을 바꿉니다.</span>
      person2<span class="token punctuation">.</span>age <span class="token operator">=</span> <span class="token number">30</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token comment">// ref값은 return을 거치게되면 person1.value.age는 person1.age로 바뀝니다. (template에서는 person1.age로 사용합니다)</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span> person1<span class="token punctuation">,</span> handleClick <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="ref-reactive-차이"><a href="#ref-reactive-차이" class="header-anchor">#</a> ref, reactive 차이</h2> <ol><li>ref는 function에서 값을 변경할 때 ref.value를 넣어주고 값을 바꾸나 reactive는 바로 값을 바꿀 수 있습니다.</li> <li><strong>reactive는 원시값에 대해서는 반응형을 가지지 않습니다.</strong> (string, number 값은 값을 바꾸어도 reactive하게 리렌더링 되지 않는다) 그래서 객체나 배열을 사용하는 경우에만 reactive를 사용할 수 있습니다, 그러나 ref는 원시값도 반응형 값으로 취급되어 리렌더링 됩니다.</li> <li>reactive나 ref나 둘 중 하나만 사용하는 것이 옳다고 생각합니다. 그런데 reactive는 원시값을 반응형으로 사용되지 않기 때문에 ref를 처음부터 끝까지 사용하는 것이 좋다고 생각합니다.</li></ol> <h2 id="computed-watch"><a href="#computed-watch" class="header-anchor">#</a> computed &amp; watch</h2> <p>vue2의 computed, watch와 사용법이 동일합니다.</p> <p>모르시는 분은 <a href="https://kyounghwan01.github.io/blog/Vue/vue/computed/" target="_blank" rel="noopener noreferrer">vue computed, watch 사용법<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 링크 참조 부탁드립니다!</p> <h2 id="watcheffect"><a href="#watcheffect" class="header-anchor">#</a> watchEffect</h2> <p>react의 useEffect와 사용법이 매우 유사합니다.</p> <p>watchEffect 내부에 사용된 변수가 바뀌면 watchEffect가 실행됩니다.</p> <p>아래 코드는 텍스트가 있을 때 타이핑된 값을 포함하는 텍스트를 filter 하는 예시 입니다.</p> <p>watchEffect는 처음 컴포넌트가 랜더될 때 최초 1회 실행됩니다. 그 이후 watchEffect 내부에 있는 변수가 바뀔 때마다 재실행됩니다.</p> <div class="language-vue extra-class"><div class="highlight-lines"><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><br><br><br><br><br><br></div><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>home<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>search<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>{{ search }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>name in matchingNames<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>name<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      {{ name }}
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> computed<span class="token punctuation">,</span> ref<span class="token punctuation">,</span> watch<span class="token punctuation">,</span> watchEffect <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">&quot;HOME&quot;</span><span class="token punctuation">,</span>
  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> search <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> names <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&quot;qq&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;aa&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;zz&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;dd&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">const</span> matchingNames <span class="token operator">=</span> <span class="token function">computed</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> names<span class="token punctuation">.</span>valie<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter">name</span> <span class="token operator">=&gt;</span> name<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>search<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token function">watch</span><span class="token punctuation">(</span>search<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token string">&quot;search 값이 바뀔 때 마다 실행되는 함수&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token function">watchEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>
        <span class="token string">&quot;search value가 정의됬기에 search가 바뀔때마다 실행된다&quot;</span><span class="token punctuation">,</span>
        search<span class="token punctuation">.</span>value
      <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> <span class="token punctuation">{</span> names<span class="token punctuation">,</span> search<span class="token punctuation">,</span> matchingNames <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="watch-watcheffect-중지"><a href="#watch-watcheffect-중지" class="header-anchor">#</a> watch, watchEffect 중지</h2> <p>watch, watchEffect가 변수에 변화함에 따라 계속 호출되는 것을 막을 수 있습니다. watch, watchEffect 함수를 변수로 지정하고 해당 변수를 실행하면 watch, watchEffect는 중지됩니다.</p> <div class="language-vue extra-class"><div class="highlight-lines"><br><br><br><br><br><br><br><div class="highlighted"> </div><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><br><br><br><br><br><br><br><br><br><br><br></div><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>home<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">v-model</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>search<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>{{ search }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">v-for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>name in matchingNames<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:key</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>name<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      {{ name }}
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>handleClick<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>watchEffect 중지하기<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> computed<span class="token punctuation">,</span> ref<span class="token punctuation">,</span> watch<span class="token punctuation">,</span> watchEffect <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">&quot;HOME&quot;</span><span class="token punctuation">,</span>
  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> search <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> names <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&quot;qq&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;aa&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;zz&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;dd&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">const</span> matchingNames <span class="token operator">=</span> <span class="token function">computed</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> names<span class="token punctuation">.</span>valie<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter">name</span> <span class="token operator">=&gt;</span> name<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>search<span class="token punctuation">.</span>value<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">const</span> stopWatch <span class="token operator">=</span> <span class="token function">watch</span><span class="token punctuation">(</span>search<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token string">&quot;search 값이 바뀔 때 마다 실행되는 함수&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">const</span> stopWatchEffect <span class="token operator">=</span> <span class="token function">watchEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>
        <span class="token string">&quot;search value가 정의됬기에 search가 바뀔때마다 실행된다&quot;</span><span class="token punctuation">,</span>
        search<span class="token punctuation">.</span>value
      <span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">const</span> <span class="token function-variable function">handleClick</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      <span class="token function">stopWatch</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">stopWatchEffect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> <span class="token punctuation">{</span> names<span class="token punctuation">,</span> search<span class="token punctuation">,</span> handleClick<span class="token punctuation">,</span> matchingNames <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="props"><a href="#props" class="header-anchor">#</a> props</h2> <p>부모 컴포넌트에서 props를 내릴 경우 사용하는 방법에 대해 알아보겠습니다!</p> <p>props는 상위에서 어떤 props를 받을 것인지 알려준 후, setup에서 <code>props.xxx</code>로 접근합니다.</p> <p>아래는 home -&gt; postList로 props를 내리고 postList에서 props를 받아 사용하는 법, 그리고 home에서 postList 컴포넌트를 사용하는 방법에 대한 예시입니다!</p> <h3 id="home-parent-component"><a href="#home-parent-component" class="header-anchor">#</a> Home (parent component)</h3> <div class="language-vue extra-class"><div class="highlight-lines"><br><br><br><div class="highlighted"> </div><br><br><br><br><div class="highlighted"> </div><br><br><br><br><br><div class="highlighted"> </div><br><br><br><br><br><br><br><br><br><br><br><br></div><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dlv</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>home<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- child 컴포넌트에게 props 내림 --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>PostList</span> <span class="token attr-name">:posts</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>posts<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token comment">// 사용할 컴포넌트 import</span>
  <span class="token keyword">import</span> PostList <span class="token keyword">from</span> <span class="token string">'../components/PostList.vue'</span>
  <span class="token keyword">import</span> <span class="token punctuation">{</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vue'</span><span class="token punctuation">;</span>

  <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    name<span class="token operator">:</span> <span class="token string">'Home'</span><span class="token punctuation">,</span>
    <span class="token comment">// 사용할 컴포넌트를 넣어줍니다.</span>
    components<span class="token operator">:</span> <span class="token punctuation">{</span> PostList <span class="token punctuation">}</span><span class="token punctuation">,</span>

    <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">const</span> posts <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
        <span class="token punctuation">{</span> title<span class="token operator">:</span> <span class="token string">'1번 타이틀'</span><span class="token punctuation">,</span> body<span class="token operator">:</span> <span class="token string">'1번 제목'</span><span class="token punctuation">,</span> id<span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span> title<span class="token operator">:</span> <span class="token string">'2번 타이틀'</span><span class="token punctuation">,</span> body<span class="token operator">:</span> <span class="token string">'2번 제목'</span><span class="token punctuation">,</span> id<span class="token operator">:</span> <span class="token number">2</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

      <span class="token keyword">return</span> <span class="token punctuation">{</span> posts <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="posts-child-components"><a href="#posts-child-components" class="header-anchor">#</a> Posts (child components)</h3> <div class="language-vue extra-class"><div class="highlight-lines"><br><br><br><br><br><br><br><br><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><br><br><br></div><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    {{ post.title }}
    {{ post.body }}
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token comment">// 사용할 props를 배열내에 정의합니다.</span>
  props<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;posts&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>props<span class="token punctuation">.</span>posts<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 받은 prop 사용가능</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="life-cycle"><a href="#life-cycle" class="header-anchor">#</a> life-cycle</h2> <p>setup 함수 내에서도 라이플사이클 훅을 사용할 수 있습니다. 옵션 api 라이플사이클 명칭에서 on을 앞에 붙이면 됩니다.</p> <div class="language- extra-class"><pre class="language-text"><code>mounted -&gt; onMounted
unmounted -&gt; onUnmounted
updated -&gt; onUpdated
</code></pre></div><div class="language-vue extra-class"><div class="highlight-lines"><br><br><br><br><br><br><br><br><br><br><br><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><br><br><br><br><br></div><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    {{ post.title }}
    {{ post.body }}
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token comment">// 사용할 props를 배열내에 정의합니다.</span>
  props<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;posts&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">onMounted</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;component mounted&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">onUnmounted</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;component onUnmounted&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">onUpdated</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;component onUpdated&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>props<span class="token punctuation">.</span>posts<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 받은 prop 사용가능</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>composition api 밑에 옵션 api 라이플사이클 훅을 동시에 사용 하면 두 동일한 함수가 2번 호출됩니다.</p> <div class="language-vue extra-class"><div class="highlight-lines"><br><br><br><br><br><br><br><br><br><br><br><div class="highlighted"> </div><br><br><br><br><br><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><br><br><br></div><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    {{ post.title }}
    {{ post.body }}
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token comment">// 사용할 props를 배열내에 정의합니다.</span>
  props<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;posts&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">onMounted</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;component mounted&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">onUnmounted</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;component onUnmounted&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">onUpdated</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;component onUpdated&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>props<span class="token punctuation">.</span>posts<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 받은 prop 사용가능</span>
  <span class="token punctuation">}</span>

  <span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;component mounted in option api&quot;</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="utils-함수-재사용-composable"><a href="#utils-함수-재사용-composable" class="header-anchor">#</a> utils 함수 재사용 (composable)</h2> <p>기존 vue2에서는 재사용을 위한 함수를 mixins에 포함시켜 사용하였습니다. mixins에 함수가 추가될 때마다 더욱 데이터 추적이 어려웠기에 확장성이 매우 불리하였습니다.</p> <p>composition api를 사용함으로 재사용하는 util 함수를 import export 가능하게 되었고 좀 더 데이터 추적 및 사용하기 쉽게 변경되었습니다.</p> <p>아래는 getPosts라는 utils 함수를 만들고 사용할 컴포넌트에서 사용하는 예시입니다</p> <p>vue3에서는 composable이라고 부릅니다</p> <h3 id="src-composables-getposts-js"><a href="#src-composables-getposts-js" class="header-anchor">#</a> src/composables/getPosts.js</h3> <p>이 함수는 여러 컴포넌트에서 재사용 가능합니다</p> <p>만약 ref가 아닌 reactive를 사용한다면 return 부분에서 toRefs로 감싸줘야 반응성이 유지됩니다.</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> ref <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token function-variable function">getPosts</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> posts <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> error <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> <span class="token function-variable function">load</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
      <span class="token comment">// 예시 api</span>
      <span class="token keyword">let</span> res <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">&quot;http://localhost:3000/posts&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>res<span class="token punctuation">.</span>isSuccess<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">throw</span> <span class="token function">Error</span><span class="token punctuation">(</span><span class="token string">&quot;fail&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      posts<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token keyword">await</span> res<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      error<span class="token punctuation">.</span>value <span class="token operator">=</span> err<span class="token punctuation">.</span>message<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">{</span> posts<span class="token punctuation">,</span> err<span class="token punctuation">,</span> load <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> getPosts<span class="token punctuation">;</span>
</code></pre></div><h3 id="home-composables-함수-사용하는-컴포넌트"><a href="#home-composables-함수-사용하는-컴포넌트" class="header-anchor">#</a> Home (composables 함수 사용하는 컴포넌트)</h3> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dlv</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>home<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>error<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>{{ error }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>posts.length<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>PostList</span> <span class="token attr-name">:posts</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>posts<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">v-else</span><span class="token punctuation">&gt;</span></span>loading...<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token comment">// 사용할 컴포넌트 import</span>
<span class="token keyword">import</span> PostList <span class="token keyword">from</span> <span class="token string">'../components/PostList.vue'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> getPosts <span class="token keyword">from</span> <span class="token string">'../composables/getPosts'</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  name<span class="token operator">:</span> <span class="token string">'Home'</span><span class="token punctuation">,</span>
  components<span class="token operator">:</span> <span class="token punctuation">{</span> PostList <span class="token punctuation">}</span><span class="token punctuation">,</span>

  <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> posts<span class="token punctuation">,</span> error<span class="token punctuation">,</span> load <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">getPosts</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token function">load</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> <span class="token punctuation">{</span> posts<span class="token punctuation">,</span> error <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="vuex"><a href="#vuex" class="header-anchor">#</a> vuex</h2> <p>vuex에 대한 포스팅은 따로 분리합니다 <a href="https://kyounghwan01.github.io/blog/Vue/vue3/composition-api-vuex/" target="_blank" rel="noopener noreferrer">composition api에서 vuex 사용하기<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <div class="tags" data-v-32ba69b0><a href="/tag/#vue" data-v-32ba69b0>
    #vue
  </a><a href="/tag/#vuex" data-v-32ba69b0>
    #vuex
  </a></div> <div></div></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">최근변경일:</span> <span class="time">8/22/2021, 12:00:39 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/Vue/vue-router/testFile/" class="prev">
        vue-router test file
      </a></span> <span class="next"><a href="/Vue/vue3/composition-api-vs-vuex/">
        composition api는 vuex를 대체할 수 있는가
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.74b3fef7.js" defer></script><script src="/assets/js/3.e476b6ca.js" defer></script><script src="/assets/js/2.40e8d9c0.js" defer></script><script src="/assets/js/151.46e38e0a.js" defer></script><script src="/assets/js/5.52569db1.js" defer></script><script src="/assets/js/13.f769b4d0.js" defer></script>
  </body>
</html>
